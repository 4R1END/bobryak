document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".tabs"),e=document.querySelectorAll(".tabs__block"),a=document.querySelectorAll(".tabs__btn-js");t&&t.addEventListener("click",t=>{if(t.target.classList.contains("tabs__btn-js")){a.forEach(t=>{t.classList.remove("tabs__item--active")}),t.target.classList.add("tabs__item--active");const e=t.target.dataset.tabsPath;c(e)}});const c=t=>{e.forEach(t=>{t.classList.remove("tabs__block--active")}),document.querySelectorAll(".card[data-round]").forEach(t=>{t.classList.remove("active")}),document.querySelector(`[data-tabs-target="${t}"]`).classList.add("tabs__block--active")}});const btnDown=document.querySelectorAll(".quantity-block__btn-down"),btnUp=document.querySelectorAll(".quantity-block__btn-up"),price=document.querySelectorAll(".card__price"),btnAddToCart=document.querySelectorAll(".card__btn-basket");btnDown.forEach(t=>{t.addEventListener("click",(function(){parseInt(t.nextElementSibling.innerText)>1&&(t.nextElementSibling.innerText=parseInt(t.nextElementSibling.innerText)-1)}))}),btnUp.forEach(t=>{t.onclick=function(){t.previousElementSibling.innerText=parseInt(t.previousElementSibling.innerText)+1}}),price.forEach(t=>{t.closest(".card").dataset.price=parseInt(t.textContent)});const generateCartProducts=(t,e,a,c)=>`\n\t\t<tr class="product">\n\t\t\t<td class="product__name">\n\t\t\t\t<img src="${t}" alt="Балхам">\n\t\t\t\t<div class="product__options">\n\t\t\t\t\t<h3 class="product__title">\n\t\t\t\t\t\t${e}\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div class="product__weight weight-checkbox">\n\t\t\t\t\t\t<label class="weight-checkbox__weight-light">\n\t\t\t\t\t\t\t<input type="radio" name="weight_balham" value="150">\n\t\t\t\t\t\t\t<span>150 гр</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="weight-checkbox__weight-middle">\n\t\t\t\t\t\t\t<input type="radio" name="weight_balham" value="200">\n\t\t\t\t\t\t\t<span>200 гр</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="weight-checkbox__weight-big">\n\t\t\t\t\t\t\t<input type="radio" name="weight_balham" value="250">\n\t\t\t\t\t\t\t<span>250 гр</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td class="product__price" data-150="1350" data-200="1570" data-250="1800">\n\t\t\t\t${a} ₽\n\t\t\t</td>\n\t\t\t<td class="product__quantity">\n\t\t\t\t<div class="product__quantity-block quantity-block">\n\t\t\t\t\t<button class="quantity-block__btn-down">\n\t\t\t\t\t\t-\n\t\t\t\t\t</button>\n\t\t\t\t\t<span>${c}</span>\n\t\t\t\t\t<button class="quantity-block__btn-up">\n\t\t\t\t\t\t+\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td class="product__sum">\n\t\t\t\t1350 ₽\n\t\t\t</td>\n\t\t\t<td class="product__delete">\n\t\t\t\t<button class="btn-remove-product-js">\n\t\t\t\t\t<img src="img/icons/close.svg" alt="удалить">\n\t\t\t\t</button>\n\t\t\t</td>\n\t\t</tr>\t\n\t`,updateStorage=t=>{let e=t.innerHTML;localStorage.setItem("products",e)};let productsWrapper=document.createElement("table");productsWrapper.className="products-wrapper";let productsWrapperBody=document.createElement("tbody");productsWrapperBody.className="tbody",productsWrapper.insertAdjacentElement("afterbegin",productsWrapperBody),btnAddToCart.forEach(t=>{t.addEventListener("click",t=>{let e=t.currentTarget.closest(".card"),a=e.querySelector(".card__image-main").getAttribute("src"),c=e.querySelector(".card__title").textContent,n=parseInt(e.querySelector(".card__price").textContent),r=e.querySelector(".card__quantity-block span").textContent;productsWrapper.querySelector("tbody").insertAdjacentHTML("beforeEnd",generateCartProducts(a,c,n,r)),updateStorage(productsWrapper.querySelector("tbody"))})});const cosmeticsBlock=document.querySelector('.tabs__block[data-tabs-target="cosmetics"]'),cardsCosmetics=cosmeticsBlock.querySelectorAll(".card"),honeyBlock=document.querySelector('.tabs__block[data-tabs-target="honey"]'),cardsHoney=honeyBlock.querySelectorAll(".card"),teaBlock=document.querySelector('.tabs__block[data-tabs-target="tea"]'),cardsTea=teaBlock.querySelectorAll(".card"),jamBlock=document.querySelector('.tabs__block[data-tabs-target="jam"]'),cardsJam=jamBlock.querySelectorAll(".card"),setDataRoundPer4=(t,e)=>{e<=3&&t.setAttribute("data-round","0"),e>3&&e<8&&t.setAttribute("data-round","1"),e>7&&e<12&&t.setAttribute("data-round","2"),e>11&&e<16&&t.setAttribute("data-round","3")};cardsCosmetics.forEach((t,e)=>{setDataRoundPer4(t,e)}),cardsHoney.forEach((t,e)=>{setDataRoundPer4(t,e)}),cardsTea.forEach((t,e)=>{setDataRoundPer4(t,e)}),cardsJam.forEach((t,e)=>{setDataRoundPer4(t,e)});const moreProductsBtn=document.querySelector(".btn--more-js"),cardsShow=document.querySelectorAll('.card[data-round="0"]'),cardsFirstRound=document.querySelectorAll('.card[data-round="1"]'),cardsSecondRound=document.querySelectorAll('.card[data-round="2"]');cardsShow.forEach(t=>{t.classList.add("active")}),moreProductsBtn.addEventListener("click",()=>{cardsSecondRound.forEach(t=>{console.log(cardsFirstRound[0].classList.contains("active")),cardsFirstRound[0].classList.contains("active")&&!t.classList.contains("active")&&t.classList.add("active")}),cardsFirstRound.forEach(t=>{t.classList.contains("active")||t.classList.add("active")})});